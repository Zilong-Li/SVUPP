params {
    outdir = 'results'
    refpanel = 'tests/refpanel.csv'
    buffer = 5000000
    nGen = 100
    minbp = 4000000
    mincm = 4
    refdata = 'prepared_reference_rdata.csv'
}

executor {
    name = "local"
    cpus = 20    // maxmimum number of CPUs for the entire workflow  
}

profiles {
    docker {
        docker.enabled = true
        docker.runOptions = '-u $(id -u):$(id -g)'
        process {
            publishDir = [path: { "${params.outdir}/${task.process.toLowerCase().split(':').last()}" }, mode: 'copy']

            // for specific processes
            withName: 'QUILT2_PREPARE_RDATA:QUILT2_PREPARE_CHUNK' {
                cpus = 1
                memory = '1 GB'
                container = 'quilt2.0.3_50b3cdd'
            }

            withName: 'QUILT2_PREPARE_RDATA:QUILT2_PREPARE_REFERENCE' {
                cpus = 1
                memory = '4 GB'
                container = 'quilt2.0.3_50b3cdd'
            }
        }
    }
}

